<!DOCTYPE html>
<html lang="en">

<head>


  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">


  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PG Manager Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <link rel="stylesheet" href="../css/dashboard2.css" />

</head>

<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <!-- Logo -->
      <div class="logo">
        <img src="../images/logo2.png" alt="PG Manager Logo" class="logo-img"><br>
        <div class="logo-text-wrap">
          <span class="logo-text">pg</span>
          <span class="logo-text2">Manager</span>
        </div>
        <span class="discription">Owner & Guest management</span>
      </div>
      <!-- Menu Items -->
      <ul class="menu">
        <li id="myProfileBtn"><span class="material-symbols-outlined">person</span>My Profile</li>
        <li><span class="material-symbols-outlined">local_police</span>Police Verification</li>
        <li><span class="material-symbols-outlined">id_card</span>ID Verification</li>
        <li><span class="material-symbols-outlined">workspace_premium</span> Subscription</li>
        <li><span class="material-symbols-outlined">settings</span> Settings</li>
        <li><span class="material-symbols-outlined">support_agent</span> Help</li>

        
      </ul>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </aside>

    <!-- Main Dashboard -->
    <main class="main-content">

      <div class="mobile-brand-bar">
  <div class="mb-left">
    <img src="../images/logo2.png" class="mb-logo">
    <div class="mb-texts">
      <span class="mb-title">pg<span class="mb-manager" >Manager</span></span>
      <span class="mb-sub">Owner & Guest management</span>
    </div>
  </div>

  <!-- Right side menu button -->
  <button class="mb-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
</div>


      <!-- Topbar -->
      <header class="topbar">
        <button class="menu-toggle" onclick="toggleSidebar()">
    ‚ò∞
</button>

        <!-- Left: Profile -->
        <div class="topbar-left">
          <img id="profileImage" src="images/pg-placeholder.jpg" alt="PG image" />
          <div class="owner-info">
            <h3 id="ownerName"></h3>
            <small>Owner</small>
          </div>
        </div>

        <!-- Center: PG Name -->
        <div class="topbar-center">
          <h1 id="pgName">--</h1>
        </div>

        <!-- Right: Address, City, Mobile -->
        <div class="topbar-right">
          <span id="address"></span>
          <p><span id="city"></span> | <span id="ownerMobile">--</span></p>
        </div>
      </header>


      <!--  MOBILE WHITE BRAND STRIP -->


      <!-- Dashboard Overview -->
      <section class="cards">

        <!-- Dashboard Card -->

         <div id="activeGuestsCard" class="card">
          <h3>Active Guests</h3>
          <p class="big" id="activeGuests">0</p>
        </div>

        <div id="totalGuestsCard" class="card">
          <h3>Total Guests</h3>
          <p id="totalGuests">0</p>
        </div>

        

        <div id="pendingRequestsCard" class= "card">
          <h3>Stay Requests</h3>
          <p class="big" id="pendingRequestsCount">0</p>
        </div>

        <div id="pendingLeaveRequestCard" class="card">
          <h3>Checkout Request</h3>
          <p id="pendingLeaveRequest">0</p>
        </div>


         <div id="paymentCard" class="card">
  <h3>Payment</h3>
  <p id="paymentCount">0</p>

  <!-- NEW: Month-Year Text -->
  <p id="paymentMonth" class="payment-month"></p>
</div>


         
         <div id="PendingPaymentCard" class="card">
          <h3>Payment Verification</h3>
          <p id="PendingPaymentCount">0</p>
         </div>

         <div id="NoticeCard" class="card">
          <h3>Notice</h3>
          <p id="NoticeCount">0</p>
         </div>

         <div id="HelpCard" class="card">
          <h3>Help and Support</h3>
          <p id="HelpCount">0</p>
         </div>
      </section>

      
<!-- MONTH-WISE PAYMENT GRAPH (NEW) -->
<section class="payment-graph-section">
  <div class="graph-header">
    <h2 id="paymentGraphTitle">Monthly Payment Trends</h2>

    <select id="yearSelect" class="year-dropdown">
        <option>2025</option>
        <option>2026</option>
        <option>2027</option>
        <option>2028</option>
        <option>2029</option>
        <option>2030</option>
    </select>
</div>

    <canvas id="paymentMonthChart"></canvas>
</section>


      

<div id="sidebarOverlay" class="sidebar-overlay" onclick="toggleSidebar()"></div>
<div id="sidebarOverlay" class="sidebar-overlay" onclick="toggleSidebar()"></div>

     
     
    </main>
  </div>
  <script src="../js/dashboard2.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>



  

  <div id="profileModal" class="modal-overlay">
  <div class="profile-modal">

    <div class="modal-header">
      <h3 id="myProfileModel">My Profile</h3>
      <span id="closeProfileModal" class="close-btn">&times;</span>
    </div>

    <div class="profile-body">

      <!--  PG NAME -->
      <h2 id="profilePgName" class="pg-title"></h2>

      <!-- PROFILE IMAGE -->
      <img id="profileModalImage"
           src="images/pg-placeholder.jpg"
           class="profile-img">

      <!--  OWNER NAME -->
      <h3 id="profileName" class="owner-name"></h3>

      <!--  DETAILS -->
      
      <div class="info-row dual-row">
  <div class="dual-item">
    <span class="info-label">üìû</span>
    <span id="profileMobile"></span>
  </div>

  <div class="dual-item">
    <span class="info-label">üèôÔ∏è</span>
    <span id="profileCity"></span>
  </div>
</div>

        <div class="info-row">
          <span class="info-label">üìç</span>
          <span id="profileAddress"></span>
        </div>


<div class="profile-actions">
  <button id="openUpdateProfileBtn" class="update-btn">
    ‚úèÔ∏è Update Profile
  </button>
</div>

      </div>

    </div>

  </div>
</div>





<div id="updateProfileModal" class="modal-overlay">
  <div class="profile-modal">

    <div class="modal-header">
      <h3 id="updateProfileModel">Update Profile</h3>
      <span id="closeUpdateProfileModal" class="close-btn">&times;</span>
    </div>

    <div class="profile-body">

      <!-- PG NAME -->
      <input id="editPgName" class="edit-input" placeholder="PG Name">

      <!-- OWNER NAME -->
      <input id="editOwnerName" class="edit-input" placeholder="Owner Name">

      <!-- MOBILE (READ ONLY) -->
      <input id="editMobile" class="edit-input readonly" disabled>

      <!-- CITY (READ ONLY) -->
      <input id="editCity" class="edit-input readonly" disabled>

      <!-- ADDRESS -->
      <textarea id="editAddress" class="edit-input" placeholder="Address"></textarea>

      <!-- PROFILE IMAGE -->
       <!-- IMAGE PREVIEW -->
<img id="profilePreview" class="profile-preview" style="display:none">

<!-- HIDDEN FILE INPUT -->
<input type="file" id="editProfileImage" accept="image/*" hidden>

<!-- CUSTOM BUTTON -->
<button type="button" id="changePhotoBtn" class="change-photo-btn">
  üì∑ Change Photo
</button>

<!-- ERROR -->
<p id="imageErrorMsg" class="image-error"></p>


      <p id="imageErrorMsg" style="color:red;font-size:13px;display:none;"></p>

<img id="profilePreview"
     style="display:none;margin-top:10px;width:90px;height:90px;
            border-radius:50%;object-fit:cover;border:2px solid #ddd;">


      <button id="saveProfileBtn" class="save-btn">
        üíæ Save Changes
      </button>

    </div>

  </div>
</div>
















</body>

</html>